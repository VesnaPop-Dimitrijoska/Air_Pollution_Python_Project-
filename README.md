# Project Title:
Python Project on Air Pollution

#
# Project Description:
This project was developed as individual assignment at Brainster Data Science Academy.  Detailed Air Pollution analysis in Skopje from a dataset taken from Kaggle, where data was from the monitoring stations 
(https://air.moepp.gov.mk/?page_id=175) for the period from 01.2007 - 12.2018

## The Dataset
The following data has been taken from kaggle (https://www.kaggle.com/datasets/cokastefan/pm10-pollution-data-in-skopje-from-2008-to-2018) where data from the monitoring stations (https://air.moepp.gov.mk/?page_id=175) for the period from Janaury 2007 to December 2018 has been compiled in a single dataset. To make our task more managable, we will only be looking at data for the time period of five years, from January 2012 to December 2016.
#
## Aнализа на податоците, преземени активности и заклучоци:
По детална анализа на податоците решив да преземам неколку чекори со цел да го подготвам дата сетот во соодветна форма за понатамошна работа.
1) Додавање колона 'Pollutant'
Бидејќи сите фајлови се разликуваат по типот на загадувач, потребно е да се додаде колона загадувач, бидејќи не постои во дата сетот т.е. ја има само во насловот на фајловите.
2) Конкатанација
Постојат 5 различни .csv фајлови со идентични колони, кои може да се спојат во еден за полесна понатамошнa манипулација.
3) Бришење на колони
После ова потребно е да се избришат следните колони: 'Unnamed: 0.1' и 'Unnamed: 0' кои имале улога на индекс колони во оргиналниот софтвер од каде се земени податоците, но во нашиот случај не ни се корисни, бидејќи податоците ги спојуваме по редици, па при спојувањето индекс колоните повеќе не се уникатни вредности, т.е. истите ќе се дуплираат 5 пати. Воедно ја бришиме и колоната 'Mobile' затоа што нема воопшто податоци во неа.
4) Реименување на колони
Постои една колона која е несоодветно именувана и треба да се преименува, 'time' во 'Datetime', затоа што дава податоци за датум и време.
5) Бришење на дупликати
При анализа на податоците открив 7315 дупли податоци, кои треба да се избришат.
6) Конверзија во соодветни дата типови
Сите податоци се во соодветен дата тип освен временската колона и таа треба да се кастира во datetime.
7) Креирање на временски колони
Разгледувајќи ги барањата во задачите потребно е да се изведат дополнителни колони, за полесно да се прават понатамошните групирања по некои временски интервали. За таа цел се изведени дополнителни колони за датум, време, ден, месец, година и час.
8) Креирање на помошни листи
Креирам листа со локации и листа со загадувачи кои може да се користат подолу во задачите за да се скрати кодот или да се искористат во циклуси.
9) Справување со NaN вредности
Во дата сетот се појавувуваат голем процент на NaN вредности (дадени во пресметките подолу), но тој процент не е доволно голем за да исфрлат мерењата без нивна дополнителна анализа. Во оваа фаза на изработка на проектот немаме доволно знаење за нивна подетална анализа, анализа на патерни по кои се појавуваат и како да се справиме со ваквите податоци.
Она што е очигледно е дека постои континуирано отсуство на податоци на некои мерни места и тоа во текот на повеќе години. Ова укажува на фактот дека некои сензори не работеле, па не се отчитувале мерењата за тие параметри.
Друг многу чест случај е појава на рандом NaN вредности, кои може да се должат на неможност сензорите да ги детектираат ниските вредности на параметрите кои ги мерат. Ваквите случаеви би требало да се апроксимираат со 0 или со некоја минимална вредност, но повторно неопходна е подетална анализа, за да се утврди точноста на ваквите претпоставки, како и за нивна интерполација.

Заклучок:     
Од погоре наведените причини т.е. неможноста со сигурност да ги потврдам наведените констатации како и правилно да се справам со истите, одлучив да НЕ ги менувам дополнително овие податоци. Секако низ задачите ги филтрирам овие вредности онаму каде што е неопходно или користам функции кои ги игнорираат ваквите вредности во самите пресметки.

10) Отстапувања на податоци
Анализирајќи ги минималните и максималните вредности, со цел да видам дали има некои поголеми отстапувања или нелогични мерења, го утврдив следното: Во фајлот CO.cvs, локација Ректорат, има податоци што многу отстапуваат од стандардните мерења за овој параметар, се работи за околу 250 мерења, во редиците 203-448, во кои што во период од 10тина дена се регистрирани многу високи мерења за овој параметар. Притоа фалат подотоци неколку денови пред да се регистрираат ваквите мерења и скоро 1 година после нив, што може да укажува на можен дефект на сензорот. Измерените податоци во овие 10тина дена се со вредност од 54.966 мерни единици (според WHO, гранична вредност за CO изнесува 10 мерни единици). Измерените вредности во континуитет се скоро исти со разлика во втора или трета децимала, што е малку нелогично нивото на CO во воздухот да бидe речиси константно во текот на 10 дена, со оглед на фактот што во делови од ноќта нема голем сообраќај. Но, сепак загадувањето со CO не е изолирано и предизвикано само од емисија на возилата во сообраќајот. Мерењата направени во истиот период на многу блиски локации, се движат во просек од 0 – 3 мерни единици.
Оваа мерна станица е лоцирана во дворот на Ректоратот на Универзитетот “Св. Кирил и Методиј”, односно на крстосницата со Судска Палата. Во овој дел од градот има исклучително голем сообраќај во текот на денот, па согласно тоа, но и тоа што резултатите се добиени во текот месец јануари, се очекува загадувањето со CO да е повисоко од останатите локации. Автоматските мониторинг станици се намерно распределени на различни типови на локации со цел да може да се мери влијанието на различни загадувачи на воздухот. На конкретната локација Ректорат, мерната станица има за цел да го мери загадувањето конкретно од сообраќајот (https://air.moepp.gov.mk/wp-content/uploads/2015/07/0204_202301VkupenIzvestaj.pdf).
Разгледувајќи некои научни трудови на темата, од истражувања направени на некои кртосници со фреквентен сообраќај (http://www.bioline.org.br/pdf?st04028, но и други), дојдено е до заклучок дека нивоата на CO, дури и на многу фреквентни крстосници, сепак не ја надминуваат вредноста пропишана од WHO.
За крај го анализирав целосниот дата сет од последните 10 години, но таму не детектирав други високи нивоа на CO.

Заклучок:       
Нивоата на јаглерод моноксид (CO), измерени на кртосниците со фреквентен сообраќај, може да варираат во зависност од различни фактори како што се: обемот на сообраќајот, емисиите на CO на возилата, близина на одредени индустриски центри, надморската височина, сезоната, временските услови: температурата, ветeрот, влажноста на воздухот, облачноста и мн други. Поради неможност да се детерминира точноста на измерените податоци, исправноста на сензорите и факторите кои влијаеле во конкретниот случај, одлучено е тие да останат во дата сетот за понатамошна анализа и да не се исклучуваат.
#
## Прочистениот дата сет содржи:
•	219220 редови (43844 редови по загадувач) и         
•	14 колони (6 колони од локации, временски колони и колона загадувач).

#



# Table of Contents:

  1. Data analysis, actions taken and conclusions
  2. Questions in the project:
     - What location in Skopje has the highest average pollution for each of the pollutants?
     - For every year, for each of the pollutants, on what time stamp is the maximum pollution for every location? What time of the year seems to have the most pollution in Skopje?
     - In what month of the year is the average polution accross locations highest for each of the pollutants?
     - What is the average pollution accross locations in every hour during the day?
     - Calculate and display the average daily pollution accross locations on separate plots for each of the pollutants over time.
     - If the range of values for PM10 considered safe and unsafe is according to the following scale:
        Good 0-50
        Moderate 51-154
        Unhealthy for sensitive individuals 155-254
        Unhealthy 255-354
        Very unhealthy 355-424
        Hazardous 425-504
        On how many days in each year, was the average value of PM10 meauserd accross locations worse than moderate?
      - On how many days in each year, was the value of PM10 measured on at least one location worse than moderate?
      - Make a bar plot showing the average number of days per year when the measured value for PM10 was worse than moderate on at least one location
  3. Solution and conclusions

#
# License
MIT License
#
